{"title":"关于Django无法加载media文件里的静态文件问题解决方法","slug":"关于django无法加载media文件里的静态文件问题解决方法","date":"2018-05-09T12:16:55.000Z","updated":"2018-06-05T01:44:59.590Z","comments":true,"path":"api/articles/关于django无法加载media文件里的静态文件问题解决方法.json","photos":[],"link":"","excerpt":"第一种配置第一步、在setting里加入如下配置1<br>2<br>3<br>4<br>5<br>6<br>STATIC_URL = '/static/'<br>STATICFILES_DIRS = [os.path.join(BASE_DIR, 'static')]<br><br><br>MEDIA_URL = '/media/'<br>MEDIA_ROOT = os.path.join(BASE_DIR, 'media')<br>","covers":null,"content":"<h3 id=\"第一种配置\"><a href=\"#第一种配置\" class=\"headerlink\" title=\"第一种配置\"></a>第一种配置</h3><h4 id=\"第一步、在setting里加入如下配置\"><a href=\"#第一步、在setting里加入如下配置\" class=\"headerlink\" title=\"第一步、在setting里加入如下配置\"></a>第一步、在setting里加入如下配置</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">STATIC_URL = <span class=\"string\">'/static/'</span></span><br><span class=\"line\">STATICFILES_DIRS = [os.path.join(BASE_DIR, <span class=\"string\">'static'</span>)]</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">MEDIA_URL = <span class=\"string\">'/media/'</span></span><br><span class=\"line\">MEDIA_ROOT = os.path.join(BASE_DIR, <span class=\"string\">'media'</span>)</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h4 id=\"第二步、在项目urls下加入以下配置\"><a href=\"#第二步、在项目urls下加入以下配置\" class=\"headerlink\" title=\"第二步、在项目urls下加入以下配置\"></a>第二步、在项目urls下加入以下配置</h4><p>开头引入以下包</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> django.contrib.staticfiles.urls <span class=\"keyword\">import</span> static</span><br><span class=\"line\"><span class=\"keyword\">from</span> stu_ms.settings <span class=\"keyword\">import</span> MEDIA_ROOT, MEDIA_URL</span><br></pre></td></tr></table></figure>\n<p>末尾加入</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">urlpatterns += static(MEDIA_URL, document_root=MEDIA_ROOT)</span><br></pre></td></tr></table></figure>\n<h3 id=\"第二种配置\"><a href=\"#第二种配置\" class=\"headerlink\" title=\"第二种配置\"></a>第二种配置</h3><h4 id=\"第一步、在settings-py文件的最后加上以下内容\"><a href=\"#第一步、在settings-py文件的最后加上以下内容\" class=\"headerlink\" title=\"第一步、在settings.py文件的最后加上以下内容:\"></a>第一步、在settings.py文件的最后加上以下内容:</h4><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">STATIC_URL = ‘/static/’ </span><br><span class=\"line\">STATIC_ROOT = os.path.join(BASE_DIR, ’static’)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 设置图片等静态文件的路径</span></span><br><span class=\"line\">STATICFILES_DIRS = ( </span><br><span class=\"line\">(‘css’,os.path.join(STATIC_ROOT,’css’).replace(‘\\’,’/’) ), </span><br><span class=\"line\">(‘js’,os.path.join(STATIC_ROOT,’js’).replace(‘\\’,’/’) ), </span><br><span class=\"line\">(‘images’,os.path.join(STATIC_ROOT,’images’).replace(‘\\’,’/’) ), </span><br><span class=\"line\">(‘upload’,os.path.join(STATIC_ROOT,’upload’).replace(‘\\’,’/’) ), </span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<h4 id=\"第二步、在项目urls下加入以下配置-1\"><a href=\"#第二步、在项目urls下加入以下配置-1\" class=\"headerlink\" title=\"第二步、在项目urls下加入以下配置\"></a>第二步、在项目urls下加入以下配置</h4><p>开头引入以下包</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> django.contrib.staticfiles.urls <span class=\"keyword\">import</span> staticfiles_urlpatterns</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> django.contrib <span class=\"keyword\">import</span> staticfiles</span><br></pre></td></tr></table></figure>\n<p>末尾加入</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">urlpatterns += staticfiles_urlpatterns()</span><br></pre></td></tr></table></figure>\n<p>至此，关于django无法加载media文件夹里的静态文件的问题就能够解决了，如若还不能解决，请尝试网管三绝招！</p>\n","categories":[{"name":"Django","slug":"Django","count":7,"path":"api/categories/Django.json"}],"tags":[{"name":"Django","slug":"Django","count":6,"path":"api/tags/Django.json"}]}
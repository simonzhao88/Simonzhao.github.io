{"title":"windows下如何一步一步搭建Django项目","slug":"如何一步一步搭建Django项目","date":"2018-05-11T11:36:22.000Z","updated":"2018-06-05T01:45:24.361Z","comments":true,"path":"api/articles/如何一步一步搭建Django项目.json","photos":[],"link":"","excerpt":"1.安装虚拟环境​    首先，要确保的是你的电脑已经安装了Python和pip包，如果没有安装，那么请移步百老师将Python环境搭建好！有了Python环境后，接下来我们就正式安装虚拟环境了。​    为什么要安装虚拟环境呢？ 首先是每个项目所需要的环境不一样，如果我们每个项目都使用一个环境，那么环境必然是复杂臃肿的，其次，某些项目需要不同的版本，比如Python2、Python3和Django1.x、Django2.x等。​    好了，正式开始！","covers":["/2018/05/11/如何一步一步搭建Django项目/./项目目录.png","/2018/05/11/如何一步一步搭建Django项目/./项目启动.png"],"content":"<h3 id=\"1-安装虚拟环境\"><a href=\"#1-安装虚拟环境\" class=\"headerlink\" title=\"1.安装虚拟环境\"></a>1.安装虚拟环境</h3><p>​    首先，要确保的是你的电脑已经安装了Python和pip包，如果没有安装，那么请移步百老师将Python环境搭建好！有了Python环境后，接下来我们就正式安装虚拟环境了。</p>\n<p>​    <strong>为什么要安装虚拟环境呢？</strong> 首先是每个项目所需要的环境不一样，如果我们每个项目都使用一个环境，那么环境必然是复杂臃肿的，其次，某些项目需要不同的版本，比如Python2、Python3和Django1.x、Django2.x等。</p>\n<p>​    好了，正式开始！</p>\n<a id=\"more\"></a>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 1、安装virtualenv</span></span><br><span class=\"line\"><span class=\"comment\"># 进入cmd终端</span></span><br><span class=\"line\">pip install virtualenv</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2、查看安装的virtualenv版本及help帮助选项</span></span><br><span class=\"line\"><span class=\"comment\"># 其中需要注意的是-p 和 --no-site-packages 这两个参数</span></span><br><span class=\"line\"><span class=\"comment\"># -p是选择使用什么本地Python版本，--no-site-packages是不依赖安装其他包，值安装纯净的python虚拟环境</span></span><br><span class=\"line\">virtualenv --version</span><br><span class=\"line\">virtualenv --help</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 3、安装虚拟环境</span></span><br><span class=\"line\">virtualenv --no-site-packages djangoenv（虚拟环境名字）</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-创建Django项目\"><a href=\"#2-创建Django项目\" class=\"headerlink\" title=\"2.创建Django项目\"></a>2.创建Django项目</h3><p>​    通过上面的步骤我们已经拥有了一个纯净的Python虚拟环境了，接下来就是创建Django项目了。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 1、进入虚拟环境</span><br><span class=\"line\">cd djangoenv/Scripts</span><br><span class=\"line\">activate   # 进入虚拟环境</span><br><span class=\"line\">deactivate   # 退出虚拟环境</span><br><span class=\"line\"># 2、安装Django</span><br><span class=\"line\">pip install django==版本号 # 指定版本</span><br><span class=\"line\"># 3、去到要创建Django项目的位置</span><br><span class=\"line\">cd xxx</span><br><span class=\"line\"># 4、创建Django项目</span><br><span class=\"line\">django-admin startproject xxx(Django项目名)</span><br></pre></td></tr></table></figure>\n<p>至此，一个Django项目就已经创建好了，然后接下来我们就要实现功能，实现功能需要在app当中来实现，下一步就是创建app了。</p>\n<h2 id=\"3-创建app\"><a href=\"#3-创建app\" class=\"headerlink\" title=\"3.创建app\"></a>3.创建app</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python manage.py startapp xxx（app名）</span><br></pre></td></tr></table></figure>\n<p>通过以上步骤，我们就完成了Django项目的创建，项目目录如下图：</p>\n<p><img src=\"/2018/05/11/如何一步一步搭建Django项目/./项目目录.png\" alt=\"项目目录\"></p>\n<p>manage.py： 是Django用于管理本项目的管理集工具，之后站点运行，数据库自动生成，数据表的修改等都是通过该文件完成。</p>\n<p>项目文件夹下共有5个顶级文件：主项目文件夹shop_market、APP文件夹xfmart、静态文件夹static、模板文件夹templates、项目管理manage.py文件。</p>\n<p><strong>init</strong>.py： 指明该目录结构是一个python包，暂无内容，在后期会初始化一些工具会使用到。</p>\n<p>seetings.py： Django项目的配置文件，其中定义了本项目的引用组件，项目名，数据库，静态资源，调试模式，域名限制等</p>\n<p>urls.py：项目的URL路由映射，实现客户端请求url由哪个模块进行响应。</p>\n<p>wsgi.py：定义WSGI接口信息，通常本文件生成后无需改动</p>\n<h2 id=\"4-setting配置\"><a href=\"#4-setting配置\" class=\"headerlink\" title=\"4.setting配置\"></a>4.setting配置</h2><p>配置installed_apps配置，templates配置，数据库，时区， 静态的static</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 1.在INSTALLED_APPS里加入创建的app</span></span><br><span class=\"line\">INSTALLED_APPS = [</span><br><span class=\"line\">  <span class=\"string\">''''</span></span><br><span class=\"line\"><span class=\"string\">  'xxx'(app名)</span></span><br><span class=\"line\"><span class=\"string\">]</span></span><br><span class=\"line\"><span class=\"string\"># 2.tempaltes模板设置</span></span><br><span class=\"line\"><span class=\"string\">TEMPLATES = [</span></span><br><span class=\"line\"><span class=\"string\">  '''</span><span class=\"string\">'''</span></span><br><span class=\"line\"><span class=\"string\">  'DIRS':[os.path.join(BASE_DIR, 'templates')],</span></span><br><span class=\"line\"><span class=\"string\">]</span></span><br><span class=\"line\"><span class=\"string\"># 3.数据库设置（连接mysql，其他数据库大致相同）</span></span><br><span class=\"line\"><span class=\"string\">DATABASES = &#123;</span></span><br><span class=\"line\"><span class=\"string\">    'default': &#123;</span></span><br><span class=\"line\"><span class=\"string\">        'ENGINE': 'django.db.backends.mysql',</span></span><br><span class=\"line\"><span class=\"string\">        'NAME': 'xfmarket',</span></span><br><span class=\"line\"><span class=\"string\">        'HOST': '数据库主机地址',</span></span><br><span class=\"line\"><span class=\"string\">        'PORT': '3306',</span></span><br><span class=\"line\"><span class=\"string\">        'USER': '用户名',</span></span><br><span class=\"line\"><span class=\"string\">        'PASSWORD': '密码'</span></span><br><span class=\"line\"><span class=\"string\">    &#125;</span></span><br><span class=\"line\"><span class=\"string\">&#125;</span></span><br><span class=\"line\"><span class=\"string\"># 4.时区及语言</span></span><br><span class=\"line\"><span class=\"string\">LANGUAGE_CODE = 'zh-hans'</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">TIME_ZONE = 'Asia/Shanghai'</span></span><br><span class=\"line\"><span class=\"string\"># 5.static文件和media文件路径配置</span></span><br><span class=\"line\"><span class=\"string\">STATIC_URL = '/static/'</span></span><br><span class=\"line\"><span class=\"string\">STATICFILES_DIRS = [os.path.join(BASE_DIR, 'static')]</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">MEDIA_URL = '/media/'</span></span><br><span class=\"line\"><span class=\"string\">MEDIA_ROOT = os.path.join(BASE_DIR, 'media')</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"5-启动项目\"><a href=\"#5-启动项目\" class=\"headerlink\" title=\"5.启动项目\"></a>5.启动项目</h2><p>经过一番设置创建，我们的Django项目就创建完成了，接下来就是启动项目了。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 在黑屏终端输入</span></span><br><span class=\"line\">python manager.py runserver</span><br></pre></td></tr></table></figure>\n<p><img src=\"/2018/05/11/如何一步一步搭建Django项目/./项目启动.png\" alt=\"项目启动\"></p>\n<p>至此，Django项目就启动成功了！</p>\n","categories":[{"name":"Django","slug":"Django","count":5,"path":"api/categories/Django.json"}],"tags":[{"name":"Django","slug":"Django","count":5,"path":"api/tags/Django.json"}]}